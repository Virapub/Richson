<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KitchenLink - All Products</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <header>
        <div class="logo">KitchenLink</div>
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html" class="active">All Products</a>
            <a href="#">About Us</a>
            <a href="#">Contact</a>
        </nav>
    </header>

    <main class="container">
        <h1>Our Product Catalog</h1>
        
        <div class="currency-switcher">
            <span>Display prices in:</span>
            <button class="currency-btn active" data-currency="both">INR & USD</button>
            <button class="currency-btn" data-currency="inr">INR Only</button>
            <button class="currency-btn" data-currency="usd">USD Only</button>
        </div>

        <div id="product-categories-container">
            <div class="loading-message">Loading products...</div>
        </div>
    </main>

    <footer>
        <p>&copy; 2023 KitchenLink. All prices in INR (â‚¹) and USD ($).</p>
    </footer>

    <script src="data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('product-categories-container');
            
            // Clear loading message
            container.innerHTML = '';

            // Generate product categories and cards
            Object.entries(productsByCategory).forEach(([category, products]) => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                
                const heading = document.createElement('h2');
                heading.textContent = category;
                categoryDiv.appendChild(heading);
                
                const productsGrid = document.createElement('div');
                productsGrid.className = 'products-grid';
                
                products.forEach(product => {
                    // Generate SEO-friendly slugs
                    const productSlug = product.name.toLowerCase()
                        .replace(/[^\w\s]/gi, '')
                        .replace(/\s+/g, '-');
                    const categorySlug = category.toLowerCase()
                        .replace(/[^\w\s]/gi, '')
                        .replace(/\s+/g, '-');
                    
                    // Create product card
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-img" loading="lazy">
                        <div class="product-details">
                            <h3>${product.name}</h3>
                            <p class="product-desc">${product.description}</p>
                            <div class="dual-price">
                                <span class="price-inr">${product.price.inr}</span>
                                <span class="price-usd">${product.price.usd}</span>
                            </div>
                            <a href="products/${categorySlug}/${productSlug}.html" class="btn">View Details</a>
                        </div>
                    `;
                    productsGrid.appendChild(card);
                });
                
                categoryDiv.appendChild(productsGrid);
                container.appendChild(categoryDiv);
            });

            // Currency switcher functionality
            document.querySelectorAll('.currency-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active button
                    document.querySelectorAll('.currency-btn').forEach(b => {
                        b.classList.remove('active');
                        b.style.backgroundColor = '#e9ecef';
                        b.style.color = '#212529';
                    });
                    this.classList.add('active');
                    this.style.backgroundColor = '#2a9d8f';
                    this.style.color = 'white';
                    
                    // Update price displays
                    const currencyPref = this.dataset.currency;
                    document.querySelectorAll('.dual-price').forEach(priceDiv => {
                        const inr = priceDiv.querySelector('.price-inr');
                        const usd = priceDiv.querySelector('.price-usd');
                        
                        inr.style.display = currencyPref === 'usd' ? 'none' : 'inline';
                        usd.style.display = currencyPref === 'inr' ? 'none' : 'inline';
                        
                        // Highlight active currency
                        if (currencyPref === 'inr') {
                            inr.style.fontWeight = 'bold';
                            inr.style.color = '#e63946';
                            usd.style.fontWeight = 'normal';
                        } else if (currencyPref === 'usd') {
                            usd.style.fontWeight = 'bold';
                            usd.style.color = '#e63946';
                            inr.style.fontWeight = 'normal';
                        } else {
                            inr.style.fontWeight = 'bold';
                            usd.style.fontWeight = 'normal';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
